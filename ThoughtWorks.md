##ThoughtWorks培训有感

——赵正阳

前记——

为期将近一个月（其实只有三天）的培训结束后，早就想写一份类似总结的文章来回顾一下这难忘的几天，直到最近HR姐姐找我聊天，我才整理起思绪来完成这件事情，想想真是懒到家了。

正文——

我不孤傲，也不自大，但有点“自闭”，相信很多写代码的同学都有这种症状：我挺喜欢在网上和大家交流的，干嘛一定要坐在一个书桌旁。一开始看到TW的结对编程，觉得有（mei）点（zi）好（hen）玩（duo），就去看了题目，发现“嘿嘿嘿，这题目几下就编出来了嘛”，所以花了三天的时间，一天写一个模块，总共也就三四个小时左右写好了作业就提交，现在看来那份代码真**，也许是参加人数不是很多的原因，或者在学校里写nodejs的人没有java、c++多，所以我幸运地接到了入选电话，现在想起来真是撞大运，不过当时让我暑假留校到7.23,我内心是拒绝的。。。那样就意味着我不能出来实习了。于是我上网查询了关于ThoughtWorks的资料（现在才查。。），发现这是一家“饱受争议”的公司，有人说这是一家追求精益、引领时尚的公司，也有人觉得纯外包的软件公司前景不长，有人觉得这里又难入职且薪水不高，也有人觉得这里的环境适合自己的成长并且热爱与公司里的人交流的氛围，带着期盼与忐忑，我决定参加结对编程，亲自去感受ThoughtWorks这家公司究竟是怎么样的。

TW，初次见面——

活动的第一天被安排在周五，我们被带着参观了整个公司，公司占软件园E区的一层楼，但是不算很大，不过不大的公司有着整洁的厨房和卫生间，厨房的设计让大家觉得很自由，因为里面的吃喝可以自己随时过去拿，还有多种酒可以自己调（这个我觉得很酷），当然令我印象深的不只是厨房（请原谅我是一个居家好男人），TW工作区的每一排都会有一个大电视屏幕，上面会展示进程的状态以及时提醒程序员出没出错啊、success与否啊之类的信息，在工作区的一旁，有几个连着的会议室，用隔音的玻璃门窗隔开，门窗上贴满了小卡片，这也是TW的一种workflow，就像github上的任务卡。在TW的工作区，我们会发现大多数编程者都是两两坐在一起，他们有自己的电脑，又有一个共同的屏幕，这便是TW特点的结对编程，也就是说，并不是我们这次的活动而已，TW早就在实施结对编程，同时为了让我们接触这样的工作方式的优点，而举办了这次活动。第一天很快就过去了，我们都找到了各自的coach，虽然我找的过程有点坎坷...不过，让我开心的是，我的导师和我一样帅。

初探TDD——

第二天的培训是扎爷主讲的TDD。相信有大量编程经验的同学很明白单元测试的重要性，很遗憾，我不算是上面说的那种同学里的一个，我在一个项目里试着写过一点单元测试，但是很快就发现还不如直接跑程序看print/console来的快，于是我就再没注意过测试这个麻烦的家伙。TDD中间这个D很有意思，在大多数编程思想里，把它写全了就是Driven，驱动（用动力推动，带动），我为了方便，把这些思想归为D一族（海贼迷造起来），像BDD行为驱动开发，DDD领域驱动设计。TDD完整翻译就是测试驱动开发，我们来看看测试是怎么驱动开发的。这里我们强化一个概念，遗留代码，大家可能认为这个项目上一拨人写的现在作废的就是遗留代码，不过这个解释不完全对，我们用TDD的概念来解释，就是“遗留代码就是没有测试的代码”。关于这点，还有一种思想就是“测试远比注释重要”，至于为什么希望读者google一下。测试的驱动过程主要有三个：红——测试失败，绿——测试通过，黄——重构。我们在开发之前，首先要做任务分析，将每个任务划分为一个功能点，使得每个任务容易测试，并且尽量无交集。分析设计完毕后，我们来做红：一次只写一个刚好失败的测试，作为新加功能的描述，那么如何写一个测试呢？首先创建被测对象，然后Mock对象需要的方法，考虑对象方法的行为方式，最后预测接口的返回值。刚写出来的测试当然会是红的，为了不要让屏幕一片血红（希望喜欢暴力美学的你们收敛点），我们一次只让一个测试失败，然后开始以最简规则完成绿的步骤：原则就是测试通过得简单、快捷、有结果导向，但是要频繁验证，其中包括了简单的设计。完成了一次两次成功，自信心也有了提高，这个时候来做黄：重构，这里重构有很多网上大牛写的要点，还有Martin Fowler的《重构》，所以我便不赘述。由此，开发就这么被测试驱动出来了，这么看来，驱动这个词表达了开发流程被推着走，还挺形象的。（TDD还有很多哲学，包括很多代码设计思想，希望大家下来自行学习）

CI，爱恨交织——

第三天的培训是博文哥分享的CI。CI，Continuous Integration，持续集成，是一种“每次集成都通过自动化的构建（包括编译，发布，自动化测试）来验证，从而尽早地发现集成错误”的方式，对于个人的、外部系统依赖少的小项目，没有必要用到，但在大项目中，就很值得去做了。其实持续集成也很简单，课上我们主要了解了travis CI这个平台，跟github无缝拟合，只要鼠标操作几个键就能够将git上的repo放到travis上进行持续集成，不过重点在于配置信息，配置信息采用YAML格式，这个的教程网上有，持续集成的教程在travis的官网上也很详细，我就不赘述。今天主要了解的是CI的开发流程，并且要求大家要尽量在开发的过程中使用到这样的方法，对于软件开发和交付至关重要。当然还有很多别的持续集成平台，现在比较常用的有Jenkins， 还有Buildbot、Go（TW出品，最早的CI平台）等。
不过为什么说CI是爱恨交织的呢，因为它虽然帮助了我们更方便地测试系统集成，但是大点的项目每次集成都需要较长的时间，这个时候倒是可以喝杯茶，不过要是每次都喝一上午就光往厕所跑了。

OOP，怎么哪都是你——

第四天由水强哥为我们分享OOP。当然OOP的思想大家都很熟悉了！！肯定比我熟悉很多，尤其是Java程序员，所以我也不多介绍，唯一强调的就是，无论是Java，python还是nodejs，c++，都可以用到很多OOP的思想，代码是写给人看的，二进制数字才是机器用的，所以大家努力设计设计自己的代码是不多余滴。

培训就告一段落，文章最后，说说我对我对TW人的印象，我的coach我叫他小明哥，他在我眼里除了帅气，更多的是一种精益求精的极客精神，这种精神我在TW人身上都能感受得出来，源于我很有幸得到三位导师的教诲。这次的培训，小明哥教会了我每一件事都要想着用最简的方式去获得最大的收益，扎爷向我展现了一个对技术极度热衷，不断探索的极客的样子，焦扬告诉了我“我的代码设计还**得很”。

很开心我没去实习，来到TW感受到了先进的软件开发workflow，学习到了更多的东西。也很开心HR姐姐这几天找我把这篇文章催出来，这几天回了深圳，心中还是念念不忘七月的十几天学习。今年秋招季，我们一起和TW约起可好？


来自https://github.com/bsdfzzzy/ThoughtWorks-
